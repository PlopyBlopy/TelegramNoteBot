# Notes 📝

## 📋 О проекте
**Веб-приложение для управления заметками с локальным хранением данных.**

---
<p align="center">
  <img 
    src="https://github.com/user-attachments/assets/88a46103-f38a-47f4-993a-111c75710ea2" 
    alt="Архитектура проекта" 
    width="800" 
    style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border: 1px solid #ddd;"
  />
</p>

---

**Технологический стек:**
- **Backend**: Go, файловое хранилище (JSON)
- **Frontend**: React, TypeScript, Vite
- **Архитектура**: Clean Architecture, индексация in-memory

## Прогресс проекта
**Общий прогресс**: 65% ✅  
**Backend**: 65% ✅  
**Frontend**: 75% ✅ 

## Статус задач
- ✅ - Реализовано
- 🔄 - В процессе
- ❌ - Не реализовано
- ⚪ - Частично реализовано

---
## 🔄 Поток данных
```markdown
┌─────────┐    HTTP    ┌──────────┐    File I/O    ┌────────────┐
│  React  │ ─────────> │   Go     │ ───────────>   │   Файлы    │
│  (UI)   │ <───────── │ (Server) │ <───────────   │  JSON      │
└─────────┘   JSON     └──────────┘   Indexing     └────────────┘
                                     │
                                     ↓
                               ┌────────────┐
                               │ In-memory  │
                               │  Indexes   │
                               └────────────┘

```

---
## 🏗️ Архитектура
#### **Хранение данных**

```markdown
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   note.json     │    │ note_index.json  │    │ metadata.json   │
├─────────────────┤    ├──────────────────┤    ├─────────────────┤
│ • id            │    │ • id             │    │ • current_id    │
│ • title         │    │ • completed      │    │ • themes        │
│ • description   │    │ • deleted        │    │ • tags          │
└─────────────────┘    │ • theme_id       │    │ • tag_colors    │
                       │ • tag_ids        │    │ • note_colors   │
                       │ • note_color_id  │    └─────────────────┘
                       │ • off (offset)   │
                       │ • size (bytes)   │
                       │ • timestamps     │
                       └──────────────────┘
```

#### **Индексы (in-memory)**
- 🔍 **TitleIndex** - быстрый поиск по заголовкам
- 🎨 **ThemeIndex** - группировка по темам
- 🏷️ **TagIndex** - фильтрация по тегам
- ✅ **CompletedNotesIndex** - выполненные заметки
- ⭕ **UncompletedNotesIndex** - невыполненные заметки
- 📊 **NoteIndexes** - общий индекс
- ⚡ **OffSizeIndex** - оптимизация доступа

---
## 📊 Статус реализации
**Общий прогресс**: 65% | **Backend**: 65% | **Frontend**: 75%
### ✅ Готово
- Базовое API для заметок
- Файловое хранилище
- Индексация для поиска
- Создание тем/тегов
### 🔄 В работе
- Редактирование заметок, тем, тегов
- Удаление заметок, тем, тегов
- Frontend компоненты
### ⚪ В планах
- Темная тема
- Оптимизация под мобильный формат
- Интеграция с Telegramm mini app
#### **Backend:**
- **Файловая система** (80% ✅)
  - ✅ note.json - чтение/запись заметок
  - ✅ note_index.json - метаданные заметок
  - ✅ metadata.json - общие настройки
  - 🔄 Очистка удаленных заметок
    - ✅ Определение логики очистки
    - ❌ Фоновый worker
    - ❌ Интеграция с основным циклом

- **Заметки** (50% ✅)
  - ✅ POST /notes - создание
  - ✅ GET /notes - получение с фильтрацией
  - 🔄 PUT /notes/{id} - обновление
    - ✅ Подготовка структуры
    - ❌ Валидация данных
    - ❌ Обновление индексов
  - ❌ DELETE /notes/{id} - удаление

- **Индексы** (85% ✅)
  - ✅ TitleIndex - полнотекстовый поиск
  - ✅ ThemeIndex - группировка по темам
  - ✅ TagIndex - фильтрация по тегам
  - ✅ Completed/Uncompleted - статусы
  - ✅ OffSizeIndex - оптимизация доступа
  - ⚪ Обновление при изменении данных

- **Метаданные** (60% ✅)
  - ⚪ CRUD для тем
  - ⚪ CRUD для тегов
  - ⚪ CRUD для цветов тегов
  - ⚪ CRUD для цветов карточек
